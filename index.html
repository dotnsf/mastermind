<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3c.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml">
<head>
<meta charset="utf8"/>
<meta http-equiv="pragma" content="no-cache"/>
<script src="//code.jquery.com/jquery-2.2.4.min.js"></script>
<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.5.1/css/bootstrap.min.css" rel="stylesheet"/>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.5.1/js/bootstrap.min.js"></script>
<script src="./mmrestapi.js"></script>

<meta name="viewport" content="width=device-width,initial-scale=1"/>
<meta name="apple-mobile-web-app-capable" content="yes"/>
<meta name="apple-mobile-web-app-status-bar-style" content="black"/>
<meta name="apple-mobile-web-app-title" content="MasterMind REST API - Frontend Sample Application"/>

<title>MasterMind</title>
<script>
var base_url = 'https://mastermind-restapi.herokuapp.com';
var id = null;
var count = 0;

$(async function(){
  doGameInit();

  var result = await mmInit();
  if( result && result.id ){
    id = result.id;
  }
});

function doGameInit(){
  id = null;
  count = 0;
}

async function doGuess(){
  var value = $('#guess_value').val();
  if( id && value ){
    var r1 = await mmGuess( id, value );
    var r2 = await mmStatus( id );

    if( r1 && r1.status ){
      h = r1.hit; 
      e = r1.error; 
      highlow = r1.highlow; 

      if( r2 && r2.status && r2.game ){
        var game = r2.game;
      }
    }
  }
}

async function doGiveup(){
}
</script>
</head>
<body>

<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <a class="navbar-brand" href="#">MasterMind</a>
</nav>

<div class="container" id="main_div" style="position: relative; top: 20px;">
  <div id="histories_div">
  </div>
  <div id="input_div">
    <input type="text" id="guess_value" placeholder="Guess.."/>
  </div>
  <div id="buttons_div">
    <button class="btn btn-xs btn-primary" onClick="doGuess();">Guess</button>
    <button class="btn btn-xs btn-danger" onClick="doGiveup();">Giveup</button>
  </div>
  <div id="message_div">
  </div>
</div>

<!-- Global site tag (gtag.js) - Google Analytics -->
<!--
<script async src="https://www.googletagmanager.com/gtag/js?id=G-C1M99BBGGM"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-C1M99BBGGM');
</script>
-->

</body>
</html>
